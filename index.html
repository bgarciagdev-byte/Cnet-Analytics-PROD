<!doctype html>
<html lang="es">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>CentroNet Analytics · Visor (solo lectura)</title>
  <style>
    :root{
      --bg:#0b1220;
      --bg-2:#020617;
      --fg:#e2e8f0;
      --muted:#94a3b8;
      --accent:#22d3ee;
      --accent-2:#38bdf8;
      --border:#1f2937;
    }

    *{ box-sizing:border-box; }

    html, body{
      height:100%;
      margin:0;
    }

    body{
      font-family:ui-sans-serif,system-ui,Segoe UI,Roboto,Helvetica,Arial;
      background:linear-gradient(180deg,var(--bg),var(--bg-2));
      color:var(--fg);
      overflow:hidden;
      position:relative;
    }

    /* Imagen de fondo */
    .bg{
      position:fixed;
      inset:0;
      width:100%;
      height:100%;
      object-fit:cover;
      opacity:.18;
      z-index:-1;
      pointer-events:none;
    }

    .app{
      height:100vh;
      display:flex;
      align-items:stretch;
      justify-content:center;
    }

    main{
      width:100%;
      max-width:1200px;
      padding:16px;
      display:flex;
      flex-direction:column;
      gap:16px;
    }

    /* MENÚ A PANTALLA COMPLETA (GRID DE BOTONES) */
    .menu-grid{
      flex:1;
      display:flex;
      flex-direction:column;
      gap:16px;
    }

    .title{
      margin:0;
      font-size:22px;
      font-weight:600;
    }

    .subtitle{
      margin:0;
      font-size:14px;
      color:var(--muted);
    }

    .grid{
      margin-top:10px;
      display:grid;
      grid-template-columns:repeat(auto-fit, minmax(200px, 1fr));
      gap:12px;
    }

    .rbtn{
      appearance:none;
      border-radius:14px;
      border:1px solid var(--border);
      padding:16px 14px;
      background:rgba(15,23,42,.9);
      color:var(--fg);
      cursor:pointer;
      font-size:15px;
      text-align:left;
      display:flex;
      flex-direction:column;
      gap:6px;
      transition:.18s transform, .18s box-shadow, .18s border-color, .18s background;
    }

    .rbtn span{
      font-weight:500;
    }

    .rbtn small{
      font-size:12px;
      color:var(--muted);
    }

    .rbtn:hover{
      transform:translateY(-2px);
      border-color:var(--accent);
      box-shadow:0 10px 30px rgba(15,23,42,.6);
      background:radial-gradient(circle at top,var(--accent-2)15%,#020617 70%);
    }

    /* VIEWER A PANTALLA COMPLETA */
    .viewer{
      position:relative;
      flex:1;
      border-radius:18px;
      border:1px solid var(--border);
      overflow:hidden;
      background:#020617;
      display:flex;
      flex-direction:column;
    }

    .viewer iframe{
      border:0;
      width:100%;
      height:100%;
    }

    .back-btn{
      position:absolute;
      top:10px;
      left:10px;
      z-index:10;
      border-radius:999px;
      border:1px solid var(--border);
      padding:6px 12px;
      font-size:13px;
      background:rgba(15,23,42,.9);
      color:var(--fg);
      cursor:pointer;
      display:flex;
      align-items:center;
      gap:6px;
    }

    .back-btn:hover{
      border-color:var(--accent);
    }

    /* Estados */
    .hidden{
      display:none !important;
    }

    /* Responsive: que todo respire bien en móvil */
    @media (max-width: 600px){
      main{
        padding:10px;
      }
      .title{
        font-size:18px;
      }
      .grid{
        grid-template-columns:1fr;
      }
    }
  </style>
</head>
<body>
  <img class="bg" src="assets/BG ANALYTICS.png" alt="CentroNet Analytics" />

  <div class="app" id="app">
    <main id="main">
      <!-- MENÚ EN GRID OCUPANDO LA PANTALLA -->
      <section class="menu-grid" id="menu">
        <div>
          <h1 class="title">CentroNet Analytics</h1>
          <p class="subtitle">Selecciona un panel para abrir</p>
        </div>

        <div class="grid" id="reportList" aria-label="Listado de reportes">
          <button class="rbtn" data-src="https://app.powerbi.com/view?r=eyJrIjoiNGU3OWUzMjQtMmM3OS00MDE1LWIzMWEtMzFhNTg5ZGJiZDA3IiwidCI6ImEyNGFlYmMxLWMwNzctNDA5My1hNzZiLTVlYTE4NTcxMTk1NiJ9">
            <span>PBI ZEISS</span>
            <small>Optica ZEISS</small>
          </button>

          <button class="rbtn" data-src="https://app.powerbi.com/view?r=eyJrIjoiNzQxYmY1M2QtYjg3Yy00NzljLTlhOWYtYTg2N2JlZjRkYjJmIiwidCI6ImEyNGFlYmMxLWMwNzctNDA5My1hNzZiLTVlYTE4NTcxMTk1NiJ9">
            <span>PBI QBANO</span>
            <small>QBANO</small>
          </button>

          <button class="rbtn" data-src="https://app.powerbi.com/view?r=eyJrIjoiYjg4MDE3MDQtODBhOC00NWI5LWJlM2MtMThlYmMxMTlkYWVjIiwidCI6ImEyNGFlYmMxLWMwNzctNDA5My1hNzZiLTVlYTE4NTcxMTk1NiJ9">
            <span>PBI ICESI</span>
            <small>Universidad ICESI</small>
          </button>

          <button class="rbtn" data-src="https://app.powerbi.com/view?r=eyJrIjoiOTZhZDNiZWItZmI4Mi00ZDYxLWIyNGEtODBlYTM5MzY1MTNkIiwidCI6ImEyNGFlYmMxLWMwNzctNDA5My1hNzZiLTVlYTE4NTcxMTk1NiJ9">
            <span>PBI TQ</span>
            <small>Tecnoquimicas</small>
          </button>

          <button class="rbtn" data-src="https://app.powerbi.com/view?r=eyJrIjoiMjU4NDRiYjUtNzgxNC00ZGVmLWFmYTktYzdjZWJjZTgyZTE2IiwidCI6ImEyNGFlYmMxLWMwNzctNDA5My1hNzZiLTVlYTE4NTcxMTk1NiJ9">
            <span>PBI CALZATODO</span>
            <small>Calzatodo</small>
          </button>

          <button class="rbtn" data-src="https://app.powerbi.com/view?r=eyJrIjoiMDE5MjMwZTctM2YzYi00Yzk1LWE0NmUtZTgyNWY2Y2M5Y2Y0IiwidCI6ImEyNGFlYmMxLWMwNzctNDA5My1hNzZiLTVlYTE4NTcxMTk1NiJ9">
            <span>PBI CCC</span>
            <small>Camara de comercio de Cali</small>
          </button>
        </div>
      </section>

      <!-- VIEWER A PANTALLA COMPLETA (MISMA VENTANA) -->
      <section class="viewer hidden" id="viewer">
        <button class="back-btn" id="backBtn">← Volver al menú</button>
        <iframe id="frame" allowfullscreen title="Power BI"></iframe>
      </section>
    </main>
  </div>

  <script>
    const menu = document.getElementById('menu');
    const viewer = document.getElementById('viewer');
    const frame = document.getElementById('frame');
    const backBtn = document.getElementById('backBtn');
    const buttons = Array.from(document.querySelectorAll('.rbtn'));

    function openReport(btn){
      const src = btn.dataset.src;
      if(!src) return;

      // cargar reporte en el iframe
      if(frame.src !== src){
        frame.src = src;
      }

      // ocultar menú (grid) y mostrar visor a pantalla completa
      menu.classList.add('hidden');
      viewer.classList.remove('hidden');
    }

    // Click en botones → abre el reporte en la misma ventana
    buttons.forEach(btn => {
      btn.addEventListener('click', () => openReport(btn));
    });

    // Botón volver → regresa al grid de botones
    backBtn.addEventListener('click', () => {
      viewer.classList.add('hidden');
      menu.classList.remove('hidden');
    });
  </script>
</body>
</html>
